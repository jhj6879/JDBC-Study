<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>My First Web Page</title>
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Nanum+Pen+Script&display=swap');
        </style>
        <style>
            *{
                font-family: "Nanum Pen Script", cursive;
                font-weight: 400;
                font-style: normal;
            }
            body{
                margin-left: 20px;
            }
            .bu{
                margin-left: 3px;
            }
            
        </style>
    </head>

    <body>
        <nav>
            <ul id="menu">
                <li><a href="./index.html">홈</a></li>
                <li><a href="./table2.html">게시판</a></li>
                <li><a href="./login.html">로그인</a></li>
                <li><a href="./signup.html">회원가입</a></li>
            </ul>
        </nav>
        <h2>회원가입</h2>
        <form name="myform" action="./join" method="post" id="myform">
            <table id="userTable">
                <tr>
                    <td>아이디</td>
                    <td>
                        <input type="text" name="userid" id="userid" placeholder="아이디를 3~8글로 입력" minlength="3" maxlength="8">
                        <button class="bu">중복확인</button>
                    </td>
                </tr>
                <tr>
                    <td>비밀번호</td>
                    <td>
                        <input type="password" name="userpwd" id="userpwd" placeholder="4~20자 사이로 입력" minlength="4" maxlength="20">
                    </td>
                </tr>
                <tr>
                    <td>이메일</td>
                    <td>
                        <input type="email" name="userEm" id="userEm">
                        <button class="bu">이메일 중복확인</button>
                    </td>
                </tr>
                <tr>
                    <td>이름</td>
                    <td><input type="text" name="username" id="username"></td>
                </tr>
                <tr>
                    <td>생년월일</td>
                    <td><input type="date" name="birthdate" id="birthdate"></td>
                </tr>
                <tr>
                    <td>성별</td>
                    <td>
                        <input type="radio" name="gender" id="genderM" value="M" checked>남자
                        <input type="radio" name="gender" id="genderG" value="G" checked>여자
                    </td>
                </tr>
                <tr>
                    <td>전화번호</td>
                    <td><input type="text" name="usertel" id="usertel"></td>
                </tr>
                <tr>
                    <td>주소</td>
                    <td><input type="text" name="useraddr" id="useraddr"></td>
                </tr>
            </table>
            <br>
            <input type="button" value="회원가입" onclick="checkForm()">
            <input type="reset" value="다시입력">
            <a href="./index.html"><input type="button" value="홈으로"></a>
        </form>

        <script>
            const myform = document.getElementById("myform");
            const userid = document.getElementById("userid");
            const userpwd = document.getElementById("userpwd");
            const userEm = document.getElementById("userEm");
            const username = document.getElementById("username");
            const birthdate = document.getElementById("birthdate");
            const genderM = document.getElementById("genderM").checked;
            const genderG = document.getElementById("genderG").checked;
            const usertel = document.getElementById("usertel");
            const useraddr = document.getElementById("useraddr");

            function checkForm(){

                if(userid.value.length < 3 || userid.value.length > 8){
                    window.alert('아이디는 3~8자로 입력해주세요.');
                    myform.userid.focus();
                    return;
                }

                if(userpwd.value.length < 4 || userpwd.value.length > 20){
                    window.alert("패스워드는 4~20자로 입력해주세요.");
                    myform.userpwd.focus();
                    return;
                }

                if(username.value == ""){
                    window.alert("이름을 입력해 주세요.");
                    myform.username.focus();
                    return;
                }

                if(birthdate.value == ""){
                    window.alert("생년월일을 입력해 주세요.");
                    myform.birthdate.focus();
                    return;
                }

                if(userEm.value.indexOf('@') == -1){ // 존재한다면 -1이 아닌 숫자가 반환됨
                    window.alert("이메일 형식이 아닙니다.");
                    myform.userEm.focus(); 
                    return;
                }

                if(!genderM && !genderG){
                    window.alert("성별을 선택해 주세요.");
                    return;
                }

                if(usertel.value == ""){
                    window.alert("전화번호를 입력해 주세요.");
                    myform.usertel.focus();
                    return;
                }

                if(useraddr.value == ""){
                    window.alert("주소를 입력해 주세요.");
                    myform.useraddr.focus();
                    return;
                }

                window.alert("회원가입이 완료되었습니다.");
                myform.submit();

                //location.href="./index.html";

            }

        </script>

    </body>
</html>
